import wasi "std/wasi";
import mem "std/mem";

fn main() {
  let input_str: []u8 = mem.make_slice[u8](256);
  let n_read: *i32 = mem.alloc[i32]();
  wasi.fd_read(0, input_str as i32, 1, n_read as i32);

  let output_str: []u8 = mem.make_slice[u8](*n_read as usize);
  let i: i32 = 0;
  while i < *n_read {
    output_str[i] = input_str[i];
    i = i + 1;
  }

  wasi.fd_write(1, output_str as i32, 1, 0);
}

